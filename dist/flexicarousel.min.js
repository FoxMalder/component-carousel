/*! Flexicarousel - v0.1.0 - 2013-04-18
* https://github.com/apathetic/flexicarousel
* Copyright (c) 2013 Wes Hatch; Licensed MIT */
(function(a){var b="carousel",c="data-transition",d="trans",e="out",f="active",g="before",h="after",i="li",j,k,l=400,m=function(){var a="webkit Moz O Ms".split(" "),b=!1,c;while(a.length){c=a.shift()+"Transition";if(c in document.documentElement.style!==undefined&&c in document.documentElement.style!=!1){b=!0;break}}return b}(),n={init:function(){j=a(this).find(i),a(this).trigger(b+".beforecreate"),a(this)[b]("addNav"),j.eq(0).addClass(f);var d=a(this).attr(c);return d||(m=!1),a(this).addClass(b+" "+(d?b+"-"+d:"")+" "),a(this)},next:function(){a(this)[b]("go",1)},prev:function(){a(this)[b]("go",-1)},go:function(c){if(a(this).find("."+d).length)return;var e=a(this).find("."+f),i=j.eq(e.index()+c);i.length||(i=j.eq(0)),i.addClass(c<0?g:h),i[0].offsetHeight,m?a(this)[b]("transitionStart",e,i):a(this)[b]("transitionEnd",e,i),a(this).trigger(b+".go",e,i)},update:function(){return a(this).trigger(b+".update")},transitionStart:function(c,f){var g=a(this);f.one("transitionend webkitTransitionEnd OTransitionEnd",function(){g[b]("transitionEnd",c,f)}),c.addClass(e),f.addClass(d)},transitionEnd:function(a,b){j.removeClass([g,h,d].join(" ")),b.addClass(f),a.removeClass(f),a.removeClass(e)},bindEventListeners:function(){var c=a(this).bind("click",function(d){var e=a(d.target).closest('a[href="#next"], a[href="#prev"]');e.length&&(c[b](e.is('[href="#next"]')?"next":"prev"),d.preventDefault())});return this},addNav:function(){return a(this).append('<nav><a href="#prev" class="prev" aria-hidden="true">Prev</a><a href="#next" class="next" aria-hidden="true">Next</a></nav>')[b]("bindEventListeners")},destroy:function(){}};a.fn.carousel=function(c){if(n[c])return a.fn[b].prototype[c].apply(this,Array.prototype.slice.call(arguments,1));if(a(this).data("init"))return a(this);if(typeof c=="object"||!c)return a(this).data("init",!0),a.fn[b].prototype.init.apply(this,arguments);a.error('Method "'+c+'" does not exist on ye olde carousel')},a.extend(a.fn[b].prototype,n)})(jQuery);